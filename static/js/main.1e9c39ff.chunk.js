(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{15:function(e,t,a){e.exports=a.p+"static/media/unnamed.c07009cf.jpg"},17:function(e,t,a){e.exports=a(25)},25:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),c=a(14),r=a.n(c),l=a(16),i=a(6),s=a(7),m=a(9),u=a(8),v=a(10),p=a(26),h=a(27),d=a(28),g=a(29),f=a(30),W=a(37),b=a(15),y=a.n(b),E=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={willWatch:!1},a}return Object(v.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.movie,c=a.removeMovie,r=a.addMovieToWillWatch,l=a.removeMovieFromWillWatch,i=this.state.willWatch;return e=n.backdrop_path||n.poster_path?"https://image.tmdb.org/t/p/w500".concat(n.backdrop_path||n.poster_path):y.a,o.a.createElement(p.a,null,o.a.createElement(h.a,{top:!0,src:e,alt:"Card image cap"}),o.a.createElement(d.a,null,o.a.createElement(g.a,null,n.title),o.a.createElement(f.a,{className:"d-flex justify-content-between align-items-center"},o.a.createElement("p",{className:"mb-0"},"Rating: ",n.vote_average),o.a.createElement(W.a,{color:"outline-secondary",onClick:c.bind(this,n)},"Delete movie"),i?o.a.createElement(W.a,{color:"outline-danger",onClick:function(){t.setState({willWatch:!1}),l(n)}},"Remove Will Watch"):o.a.createElement(W.a,{color:"outline-warning",onClick:function(){t.setState({willWatch:!0}),r(n)}},"Add Will Watch"))))}}]),t}(n.Component),k=a(35),_=a(33),j=a(36),M=a(34),O=a(31),w=a(32),C=function(e){var t=e.moviesWillWatch,a=t.map((function(e){return o.a.createElement(O.a,null,o.a.createElement("div",{className:"d-flex justify-content-between"},e.title," ",o.a.createElement("span",{style:{color:"red"}},e.vote_average)))}));return o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",null,"Will Watch: ",t.length," ",1===t.length?"movie":"movies"),o.a.createElement(w.a,null,a))},N="https://api.themoviedb.org/3",S="3f4ca4f3a9750da53450646ced312397",P=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(s.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.sort_by!==this.props.sort_by}},{key:"render",value:function(){var e=this.props,t=e.sort_by,a=e.updateSortBy,n=function(e){return function(){return a(e)}},c=function(e){return t!==e};return o.a.createElement(_.a,{className:"ml-3"},o.a.createElement(M.a,{className:"mb-4"},o.a.createElement(W.a,{color:"dark",outline:c("popularity.desc"),onClick:n("popularity.desc")},"Popularity desc"),o.a.createElement(W.a,{color:"dark",outline:c("revenue.desc"),onClick:n("revenue.desc")},"Revenue desc"),o.a.createElement(W.a,{color:"dark",outline:c("vote_average.desc"),onClick:n("vote_average.desc")},"Vote average desc")))}}]),t}(n.Component),T=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={movies:[],moviesWillWatch:[],sort_by:"popularity.desc",page:1,pages:""},a.getMovies=function(){var e=a.state,t=e.sort_by,n=e.page;fetch("".concat(N).concat("/discover/movie","?api_key=").concat(S,"&sort_by=").concat(t,"&page=").concat(n)).then((function(e){return e.json()})).then((function(e){a.setState({movies:e.results,pages:e.total_pages})}))},a.removeMovie=function(e){var t=a.state,n=t.movies,o=t.moviesWillWatch,c=n.filter((function(t){return t.id!==e.id})),r=o.filter((function(t){return t.id!==e.id}));a.setState({movies:c,moviesWillWatch:r})},a.addMovieToWillWatch=function(e){var t=a.state.moviesWillWatch,n=[].concat(Object(l.a)(t),[e]);a.setState({moviesWillWatch:n})},a.removeMovieFromWillWatch=function(e){var t=a.state.moviesWillWatch.filter((function(t){return t.id!==e.id}));a.setState({moviesWillWatch:t})},a.updateSortBy=function(e){a.setState({sort_by:e})},a.moveToPrewPage=function(){console.log("page: ",a.state.page),1!==a.state.page&&a.setState({page:a.state.page-1})},a.moveToNextPage=function(){console.log("page: ",a.state.page),a.setState({page:a.state.page+1})},a}return Object(v.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getMovies()}},{key:"componentDidUpdate",value:function(e,t){var a=this.state,n=a.sort_by,o=a.page;t.sort_by===n&&t.page===o||this.getMovies()}},{key:"render",value:function(){var e=this,t=this.state,a=t.movies,n=t.moviesWillWatch,c=t.sort_by,r=t.page,l=t.pages;return o.a.createElement(k.a,{className:"mt-4"},o.a.createElement(_.a,null,o.a.createElement(P,{sort_by:c,updateSortBy:this.updateSortBy}),o.a.createElement(j.a,{sm:"9"},o.a.createElement(_.a,null,a.map((function(t){return o.a.createElement(j.a,{md:"6",className:"mb-4",key:t.id},o.a.createElement(E,{movie:t,removeMovie:e.removeMovie,addMovieToWillWatch:e.addMovieToWillWatch,removeMovieFromWillWatch:e.removeMovieFromWillWatch}))})))),o.a.createElement(j.a,{sm:"3"},o.a.createElement(C,{moviesWillWatch:n}))),o.a.createElement(_.a,{className:"ml-0"},o.a.createElement(M.a,{className:"mb-4"},o.a.createElement(W.a,{color:"dark",outline:!0,onClick:this.moveToPrewPage},"Prev"),o.a.createElement(W.a,{color:"dark",outline:!0,onClick:this.moveToNextPage},"Next")),o.a.createElement("div",{className:"ml-4"},"Page Count: ",r,"/",l)))}}]),t}(n.Component);a(24);r.a.render(o.a.createElement(T,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.1e9c39ff.chunk.js.map